<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="styles/ustadmobile.css" rel="stylesheet" />
    <link href="styles/bootstrap.min.css" rel="stylesheet" />
    <script src="js/jquery3.3.1.min.js"></script>
    <script src="js/plugins/ustadmobile/UstadWidgets.js" type="text/javascript"></script>
    <script src="js/tinymce.min.js"></script>
    <script src="js/UstadEditor.js"></script>
    <script>
        const inlineConfig = {

            selector: '#mce-editor',
            menubar: false,
            inline: true,
            plugins: [
                'ustadmobile','directionality','lists','noneditable','visualblocks'
            ],
            toolbar: ['ustadmobile'],
            valid_styles: {
                '*': 'font-size,font-family,color,text-decoration,text-align'
            },
            content_css: [
                '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            ],
            extended_valid_elements : 'label[class],div[onclick|class|data-um-correct|data-um-widget|id],option[selected|value]',
            theme: 'modern',
            setup:function(ed) {
                ed.on('change', function() {
                    ustadEditor.hideToolbarMenu();
                    QuestionWidget.handleListeners();
                    ustadEditor.handleContentChange();
                });

                ed.on('keyup', function() {ustadEditor.handleContentChange();});

                ed.on('undo', function() {ustadEditor.handleContentChange();});

                ed.on('redo', function() {ustadEditor.handleContentChange();});
            },
            style_formats: [{ title: 'Containers', items: [
                    { title: 'section', block: 'section', wrapper: true, merge_siblings: false },
                    { title: 'article', block: 'article', wrapper: true, merge_siblings: false },
                    { title: 'blockquote', block: 'blockquote', wrapper: true },
                    { title: 'hgroup', block: 'hgroup', wrapper: true },
                    { title: 'aside', block: 'aside', wrapper: true },
                    { title: 'figure', block: 'figure', wrapper: true }
                ]
            }]
        };
        tinymce.init(inlineConfig).then(function () {
            ustadEditor.init(tinymce.activeEditor);
            QuestionWidget.handleListeners();
            setTimeout(ustadEditor.requestFocus(), 20);
            setTimeout(ustadEditor.hideToolbarMenu(), 22);

        });


    </script>

</head>

<body>
<div class="container-fluid">
    <div class="row">
        <div id="mce-editor" class="col-sm-12 col-md-12 col-lg-12" style="margin: 2%; padding: 0;">

        </div>
    </div>
</div>

<script src="js/bootstrap.min.js"></script>
<script>
    $(function() {
        $('body').css('width', $(window).width());
    });
</script>
</body>
</html>
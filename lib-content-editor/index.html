<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ustadmobile Editor</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="language" content="english">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="src/css/UmEditorCore.css">
    <link rel="stylesheet" href="lib/material-icon/material-icons.css">
    <script src="lib/jquery/jquery3.3.1.min.js" type="text/javascript"></script>
    <script src="lib/rangy/js/rangy-core.js" type="text/javascript"></script>
    <script src="lib/rangy/js/rangy-selectionsaverestore.js" type="text/javascript"></script>
    <script src="lib/tinymce/js/tinymce.min.js" type="text/javascript"></script>
    <script src="src/js/UmContentEditorCore.js" type="text/javascript"></script>
    <script src="src/js/UmQuestionWidget.js" type="text/javascript"></script>

    <script type="text/javascript">
        window.onload = function() {
            $("#umEditor").css("min-height",$(window).height());
            UmQuestionWidget.handleWidgetListeners();

        };

        function reportRangeHtml() {
            const sel = rangy.getSelection();
            const range = sel.rangeCount ? sel.getRangeAt(0) : null;
            if (range) {
                alert(range.toHtml());
            }
        }

    
    </script>
</head>
<body>

<div id="menus">
    <button onclick="initializeEditor()">Initialize</button>
    <button onclick="UmContentEditorCore.insertMultipleChoiceQuestionTemplate()">MultipleChoice</button>
    <button onclick="UmContentEditorCore.insertFillInTheBlanksQuestionTemplate()">Fill</button>
    <button onclick="UmContentEditorCore.insertMediaContent('http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4','video/mp4')">Video</button>
    <button onclick="UmContentEditorCore.insertMediaContent('https://voicebunny.s3.amazonaws.com/assets/sound/home_eng.mp3','audio/mp3')">audio</button>
    <button onclick="UmContentEditorCore.insertMediaContent('http://www.ccvcri.com/uploads/6/4/9/2/64929695/1053144_orig.jpg','image/jpg')">image</button>
    <button onclick="reportRangeHtml()">selected</button>
    <button onclick="UmContentEditorCore.textDirectionRightToLeft()">RTL</button>
    <button onclick="UmContentEditorCore.textDirectionLeftToRight()">LTR</button>
    <button onclick="addIcon()">Icon</button>
    <button onclick="getPrevState()">Undo</button>
</div>

<div class="container-fluid row default-margin-top">
    <div class="col-sm-12 col-md-12 col-lg-12" id="umEditor" style="margin-top: 50px;">

        <div id="id-OVLWFwuJMpOAqokS" class="um-row col-sm-12 col-md-12 col-lg-12 default-margin-top extra-content hide-element" data-um-widget="content">
            <p>&nbsp;</p>
            </div>
            <div id="id-question-PBAFftB9ypC80ocB" class="um-row col-sm-12 col-md-12 col-lg-12 default-margin-top default-theme question default-padding card" data-um-widget="multi-choice" data-um-retry="false">
            <div class="um-row col-sm-12 col-md-12 col-lg-12 align-content-end question-action-holder hide-element"><span class="float-right"><em class="material-icons action-delete">delete</em></span> <span class="float-right"><em class="material-icons action-cut">content_cut</em></span></div>
            
            <div id="id-Jxk83GLEbCNkq8L0" class="question-body dont-remove col-sm-12 col-md-12 col-lg-12 multi-choice default-theme no-left-padding default-margin-bottom preview-main default-margin-top" data-um-preview="main">
            <p>Placeholder text for the question body</p>
            </div>
            <div id="undefinedVqrMPzwZo3j-Kv9R" class="question-choice col-sm-12 col-md-12 col-lg-12 default-theme question-choice-pointer alert alert-secondary preview-support default-margin-top" data-um-correct="false" data-um-preview="support">
            <div class="choice-action"><span class="float-right"><em class="material-icons action-delete-inner hide-element">delete</em></span></div>
            
            <div id="id-MgQ-wcdbQkO63Etx" class="question-choice-body dont-remove">
            <p>Placeholder text for the choice body</p>
            </div>
            
            <div id="id-VUXiiutvJ-ZSG5Am" class="question-choice-feedback dont-remove hide-element">
            <p>Feedback placeholder text</p>
            </div>
            
            <div id="id-PfdYuxUWWkIs9ER7" class="question-choice-answer select-option col-sm-12 col-lg-3 hide-element"><select class="question-choice-answer-select">
            <option value="true">Yes</option>
            <option selected="selected" value="false">No</option>
            </select></div>
            </div>
            <div id="id-PnAIBHqt8sbxM3IT" class="question-feedback-container col-sm-12 col-md-12 col-lg-12 default-theme hide-element preview-alert default-margin-top" data-um-preview="alert">
            <div class="alert question-feedback-container-text preview-alert default-margin-top" role="alert" data-um-preview="alert">&nbsp;</div>
            </div>
            <div id="id-uGX8lpo4aPc60fyd" class="question-retry-holder col-sm-12 col-md-12 col-lg-12 default-theme">
            <div id="id-4Gqy14FdtG8JCCAS" class="question-retry-option select-option col-sm-12 col-md-3 col-lg-3 default-margin-bottom default-theme hide-element"><select class="question-retry-option-select">
            <option value="true">Yes</option>
            <option selected="selected" value="false">No</option>
            </select></div>
            <div id="id-7OIFllpWz8Jn8GAm" class="question-retry-btn col-sm-12 col-md-12 col-lg-12 default-theme default-margin-top hide-element"><button class="float-right qn-retry extra-btn preview-support default-margin-top" data-um-preview="support">Try again</button></div>
            </div>
            <div id="id-rRmy1uZ_kUsZ44n5" class="question-add-choice col-sm-12 col-md-12 col-lg-12 default-theme default-padding-top default-margin-bottom hide-element"></div>
            </div>
            <div class="um-row col-sm-12 col-md-12 col-lg-12 default-margin-top extra-content hide-element" data-um-widget="content">
            <p>&nbsp;</p>
            </div>

    </div>
</div>

<script src="lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

<script>
    function initializeEditor(){
        UmContentEditorCore.initEditor("en",false,false);
    }

    function getPrevState(){
            console.log("PrevState",UmContentEditorCore.getEditorPreviousState());
        }

    function addIcon(){
        UmContentEditorCore.insertContentRaw("<span><i class='material-icons'>content_cut</i></span>");
    }
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ustadmobile Editor</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="language" content="english">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="src/css/UmEditorCore.css">
    <link rel="stylesheet" href="lib/material-icon/material-icons.css">
    <script src="lib/jquery/jquery3.3.1.min.js" type="text/javascript"></script>
    <script src="lib/rangy/js/rangy-core.js" type="text/javascript"></script>
    <script src="lib/rangy/js/rangy-selectionsaverestore.js" type="text/javascript"></script>
    <script src="lib/tinymce/js/tinymce.min.js" type="text/javascript"></script>
    <script src="src/js/UmContentEditorCore.js" type="text/javascript"></script>
    <script src="src/js/UmQuestionWidget.js" type="text/javascript"></script>

    <script type="text/javascript">
        window.onload = function() {
            $("#umEditor").css("min-height",$(window).height());
            UmQuestionWidget.handleWidgetListeners();

        };

        function reportRangeHtml() {
            const sel = rangy.getSelection();
            const range = sel.rangeCount ? sel.getRangeAt(0) : null;
            if (range) {
                alert(range.toHtml());
            }
        }

    
    </script>
</head>
<body>

<div id="menus">
    <button onclick="initializeEditor()">Initialize</button>
    <button onclick="UmContentEditorCore.insertMultipleChoiceQuestionTemplate()">MultipleChoice</button>
    <button onclick="UmContentEditorCore.insertFillInTheBlanksQuestionTemplate()">Fill</button>
    <button onclick="UmContentEditorCore.insertMediaContent('http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4','video/mp4')">Video</button>
    <button onclick="UmContentEditorCore.insertMediaContent('https://voicebunny.s3.amazonaws.com/assets/sound/home_eng.mp3','audio/mp3')">audio</button>
    <button onclick="UmContentEditorCore.insertMediaContent('http://www.ccvcri.com/uploads/6/4/9/2/64929695/1053144_orig.jpg','image/jpg')">image</button>
    <button onclick="reportRangeHtml()">selected</button>
    <button onclick="UmContentEditorCore.textDirectionRightToLeft()">RTL</button>
    <button onclick="UmContentEditorCore.textDirectionLeftToRight()">LTR</button>
    <button onclick="addIcon()">Icon</button>
    <button onclick="getPrevState()">Undo</button>
</div>

<div class="container-fluid row default-margin-top">
    <div class="col-sm-12 col-md-12 col-lg-12" id="umEditor" style="margin-top: 50px;">


    </div>
</div>

<script src="lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

<script>
    function initializeEditor(){
        UmContentEditorCore.initEditor("en",false,false);
    }

    function getPrevState(){
            console.log("PrevState",UmContentEditorCore.getEditorPreviousState());
        }

    function addIcon(){
        UmContentEditorCore.insertContentRaw("<span><i class='material-icons'>content_cut</i></span>");
    }
</script>
</body>
</html>
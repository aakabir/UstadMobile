# lib-database

The database modules are structured as follows:

* [lib-database-entities](../lib-database-entities/) contains POJO entity
objects which are persisted to and from the database. These objects have
@UmEntity and related annotations (roughly analagous to Room Persistence
Framework annotations).
* [lib-database-annotation](../lib-database-annotation/) contains only
annotation classes. These annotations are used to generate platform
specific implementations.
* [lib-database](./) contains the Database (annotated with @UmDatabase)
and DAO (annotated with @UmDao) classes.
[core annotation processor](../lib-annotation-processor-core/) runs over
this module to generate platform specific implementations. The generated
platform-specific implementation code is output into platform specific
modules (e.g. lib-database-android)
* [lib-database-entity-processor](../lib-database-entity-processor)
processes the entity classes from lib-database-entities to add the
required room annotation to the source code and puts the outputs the
result into the lib-database-android module.
* [lib-database-android](../lib-database-android/) contains the processed
entities generated by lib-database-entity-processor and the Room
Persistence Framework DAO and Database classes generated by the core
annotation processor.
* [lib-database-jdbc](../lib-database-jdbc/) contains JDBC helper classes
for the JDBC implementation.
* [lib-database-annotation-processor-core](../lib-database-annotation-processor-core)
the core annotation processor runs over the lib-database projects and
generates the required Database and DAO class implementations for that
each platform, and places the generated sources into a platform specific
module.

lib-database has a __compileOnly__ dependency on
lib-database-entities. This
allows other modules to use different classes that provide identical
public methods. This is required as Room Persistence Framework needs
it's own annotations on the entity classes, but those annotations are
not portable.

Any module using lib-database must either depend on
lib-database-entities or include a processed
version of those classes with identical public classes and methods.

